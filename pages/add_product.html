<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Product - ShopEasy</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body {
            font-family: 'Segoe UI', sans-serif;
            background: radial-gradient(circle, #101524, #05070f);
            color: white;
        }

        .product-form-card {
            background: rgba(20, 20, 40, 0.92);
            border-radius: 14px;
            width: 450px;
            padding: 28px;
            margin: auto;
            margin-top: 70px;
            box-shadow: 0 0 28px rgba(0, 238, 255, 0.25);
        }

        h3 {
            color: #00eaff;
            font-weight: 700;
            text-align: center;
            margin-bottom: 20px;
        }

        label {
            color: #00eaff;
            font-weight: 500;
        }

        input, textarea {
            background: transparent !important;
            border: 1px solid #00eaff !important;
            border-radius: 8px !important;
            color: white !important;
        }

        input::placeholder,
        textarea::placeholder {
            color: #b7d8dd !important;
        }

        .btn-submit {
            width: 100%;
            background: linear-gradient(90deg, #6a00ff, #00eaff);
            border: none;
            font-weight: bold;
            padding: 10px;
            border-radius: 10px;
        }

        .btn-submit:hover {
            opacity: 0.85;
        }

        nav a {
            color: #00eaff !important;
            font-weight: 500;
        }
    </style>
</head>
<body>

<nav class="navbar navbar-dark bg-dark px-3">
    <a class="navbar-brand fw-bold" href="../index.html">ShopEasy</a>
    <a href="#" id="logoutBtn">Logout</a>
</nav>

<div class="product-form-card">
    <h3>Add New Product</h3>

    <form id="addProductForm">
        <label>Product Name</label>
        <input type="text" id="productName" class="form-control mb-3" placeholder="Enter product name" required>

        <label>Price (â‚¹)</label>
        <input type="number" id="price" class="form-control mb-3" placeholder="Enter price" required>

        <label>Description</label>
        <textarea id="description" rows="3" class="form-control mb-3" placeholder="Enter description" required></textarea>

        <label>Image</label>
        <input type="file" id="imageFile" accept="image/*" class="form-control mb-3" required>

        <button class="btn-submit" type="submit">+ Add Product</button>
    </form>
</div>


<script>
    let loggedUser = JSON.parse(localStorage.getItem("loggedInUser"));
    if (!loggedUser || loggedUser.email !== "admin@gmail.com") {
        alert("Access Denied! Admin Only.");
        window.location.href = "login.html";
    }

    document.getElementById("logoutBtn").onclick = () => {
        localStorage.removeItem("loggedInUser");
        window.location.href = "login.html";
    };

    document.getElementById("addProductForm").addEventListener("submit", function(e) {
        e.preventDefault();

        let name = productName.value.trim();
        let price = parseInt(document.getElementById("price").value);
        let description = document.getElementById("description").value.trim();
        let file = document.getElementById("imageFile").files[0];

        let imageUrl = URL.createObjectURL(file);

        let products = JSON.parse(localStorage.getItem("products")) || [];
        products.push({
            id: Date.now(),
            name,
            price,
            description,
            image: imageUrl
        });

        localStorage.setItem("products", JSON.stringify(products));
        alert("Product Added Successfully!");
        window.location.href = "products.html";
    });
</script>

</body>
</html>


